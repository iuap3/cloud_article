#　数据湖：装在“新瓶”里的大数据

##　--数据湖系列之一

作者：（云平台-数据服务[DaaS]-数据运营）高级产品经理
导读：本系列文章旨在让读者对数据湖有深入的认识，数据湖到底是什么？什么是大数据的新瓶子？如何避免“数据沼泽”的产生，它与数据仓库到底有什么不同？对这些问题的疑问，将在数据湖系列文章中予以阐明。

如果你认为一个数据集市可以看作是桶装水店——提供了清洗，包装和组织等服务以方便用户消费；‘数据湖’就是一个拥有更自然的状态的大的水体。来自源头的内容流补充到湖中，各类客户可以来湖中检测、探索以及获取样本。”
--詹姆斯•迪克森

在近一段时间的工作中，“数据湖”概念被越来越多的提及，领导们被扑面而来的“数据湖”耳濡目染，企业纷纷构建“数据湖”用以应对飞速增长的数据，似乎没有“数据湖”在大数据时代已然输在了起跑线上。
###　数据湖到底是什么呢？

数据湖（Data Lake）是由Pentaho公司的创始人詹姆斯•迪克森在2010年首次提出，以用来与数据集市（Data Mart）进行对比。
   
Wiki百科对数据湖的定义是：一种在系统或存储库中以自然格式存储数据的方法，它有助于以各种模式和结构形式配置数据，通常是对象块或文件。数据湖的主要思想是对企业中的所有数据进行统一存储，从原始数据转换为用于报告、可视化、分析和机器学习等各种任务的转换数据。湖中的数据包括结构化数据从关系数据库（行和列），半结构化数据（CSV、XML、JSON的日志），非结构化数据（电子邮件，文档，PDF）和二进制数据（图像、音频、视频）从而形成一个集中式数据存储容纳所有形式的数据。

数据湖的出现从根本上解决了数据集成问题，真正实现了异构数据的统一存储，使数据有了一致的存储方式以方便连接使用。
数据湖又是怎样一种存在呢？

###　大数据的新“瓶子”

“数据湖”这个词在大数据蓬勃发展的今日，已然被赋予了太多不同的含义。如果有什么东西在传统的数据仓库架构中无法描述，那就会把它归结为数据湖的一种。到最后，数据湖就成了一个听之很悬又无法诠释的概念，每个人都有不同的理解，最终导致数据湖以不同的形态而出现。

在“数据湖”概念出现之初，数据湖被用来存储原始数据。从这个角度来看，数据湖与数据仓库的原始数据层没有什么区别，都是作为数据的中转站而存在。在中转站中，从源系统数据进行复制与保存，然后将这些数据进行整合与加工，通过ETL过程向数据下游传输，形成数据仓库。

需要提到的是，过多的宣传中将数据湖描绘成一个拥有内部生态的数据净化与循环系统的万能存在。而在实际的应用中，价值的“结晶”不会凭空产生，它必须在经过整合、转换之后才会变得有用，因此数据的ETL是必经之路。当然也有些人认为，ETL也是数据湖的一个重要组成部分。这与“数据中转站”有了一些区别，将数据湖定义为”中转站+ETL”。

数据湖建设初期，对于存储技术的选择是需要慎重考虑的，这和数据湖所引入的数据类型有关。在存储少量数据，比如主数据、业务系统的生产数据等，关系型数据库是很适合的选择；对于存储非结构化的数据，则需要HDFS这种分布式的文件存储系统。

当然，伴随着人工智能的浪潮，人们对数据湖的期望已不仅仅是用于数据的存储，企业常常把数据湖与自助分析结合起来。在理想的情况下，业务部门不在需要开发团队的帮忙，也不需要使用ETL这么复杂传统的技术，就可以从数据湖中提取出有价值的数据。真的有如此智能的数据湖么？答案一定是否定的。

然而，对于普通用户根本无法使用BI工具区完成繁杂的数据检索任务，当你准备了一款功能相当丰富的数据准备工具时，用户往往一头雾水，他们也无法真正处理得了那些复杂的原始数据。对于决策者和商务用户而言，虽然同样需要掌握数据的每个细节，但他们更倾向于快速的得到一些有价值的结果。
因此，自助分析平台是数据湖价值体现的关键，也是一个愿景。

###　可怕的“数据沼泽”

尽管许多世界上最好的公司都在他们的数据湖周围建立了业务，但很多公司在收集了数据之后却没有任何清晰的办法来获取价值。如同收集灰尘般，大量的数据汇入了数据湖，收集了一些毫无价值最终都会被抛弃的垃圾数据，最后为这些“灰尘”增加了预算，却什么都做。如果知识为了保存数据而存储数据，没有流动的数据因为缺少活性，慢慢凝固下来，融合着“灰尘”形成了数据沼泽。

数据湖的建立需要从一个清晰的视角，找到应用的目标，然后把需要收集的数据导入其中。当湖中的数据不再有用时，就直接丢弃掉。没有必要把所有的数据都存储下来。在后续的系列中会详细讨论关于减少数据量的方法。

为了避免“数据沼泽”的产生，在数据湖建设初期要采用一些基本原则。
较少的数据：在数据湖还没有形成完善的生态体系时，其很难自然的循环湖中的数据以产生相应的价值，过多的数据收集，会让已经缓慢“流动”的数据更加“稠密”，无法清晰的找到数据并提取出来；智能的战略：在大规模的数据中获得有价值的数据，只依靠人工是无法实现的，数据湖需要一个自动化的方式来实现数据的清洗和提炼过程；明确目标：上文中提到，数据湖的构建需要从一个清晰的视角来审视你的目标和所要解决的问题，你需要什么样的数据，就决定了你需要引入什么样的数据来提炼。

###　充满未知的“数据湖”

数据湖虽然已经被广泛的应用，但仍有许多的不足之处，比如缺乏数据治理和元数据管理等。这个万能的词汇，虽然可以弥补所有传统数据仓库架构无法解决的地方，但目前仍然没有一个共识来定义数据湖。即便如此，仍有无数的人前仆后继的去开发建造“数据湖”，并期望能够从中获得价值。
   
那么，数据湖真的那么神奇么？它与数据仓库到底有什么不同？我们在后续的系列中再做讨论。
